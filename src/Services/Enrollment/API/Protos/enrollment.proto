syntax = "proto3";

option csharp_namespace = "Codemy.EnrollmentsProto";

package enrollments;

service EnrollmentService {
  rpc CreateEnrollment (CreateEnrollmentRequest) returns (CreateEnrollmentResponse);
  rpc GetCourseWithGrpc (GetCourseWithGrpcRequest) returns (GetCourseWithGrpcResponse);
  rpc CheckEnrollments (CheckRequest) returns (CheckResponse);
  rpc GetLastDateCourse (GetLastDateCoureRequest) returns (GetLastDateCourseResponse);
}

// Request
message CreateEnrollmentRequest {
  string courseId = 1;
  string userId = 2;
} 

message GetLastDateCoureRequest {
	string courseId = 1;
}

message GetCourseWithGrpcRequest {
  string courseId = 1;
  string userId = 2;
}

message CheckRequest {
  string userId = 1;
  repeated string courseIds = 2;
}


// Response
message CreateEnrollmentResponse {
  bool success = 1;
  string message = 2;
}

message GetCourseWithGrpcResponse {
  bool success = 1;
  string message = 2;
  string lessonId = 3;
}

message CheckResponse {
  bool success = 1;
  string message = 2;
  repeated string enrolledCourseIds = 3;
}

message GetLastDateCourseResponse {
	bool success = 1;
	string message = 2;
	string lastDate = 3;
}